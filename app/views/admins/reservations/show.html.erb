<div class="row"><!-- --------------------row-------------------- -->
    <div class="col-md-6">

        <h2><%= @day %>予約状況　</h2>
    </div>

    <div class="col-md-6">

        <h2><%= link_to "編集", edit_admins_reservation_path(@day), class: "btn btn-primary" %></h2>
    </div>
</div><!-- --------------------------row------------------------- -->


<div class="row"><!-- --------------------row-------------------- -->

    <table class="table table-inverse", style="margin-top:15px">

        <thead>
            <tr class="active">
                <th style="width:33%">時間</th>
                <th style="width:33%"><%= TennisCourt.find(1).cname%></th>
                <th style="width:33%"><%= TennisCourt.find(2).cname%></th>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>9:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "9:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "9:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "9:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "9:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "9:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "9:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>10:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "10:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "10:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "10:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "10:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "10:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "10:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>11:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "11:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "11:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "11:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "11:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "11:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "11:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>12:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "12:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "12:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "12:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "12:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "12:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "12:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>13:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "13:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "13:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "13:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "13:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "13:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "13:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>14:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "14:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "14:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "14:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "14:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "14:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "14:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>15:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "15:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "15:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "15:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "15:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "15:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "15:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>16:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "16:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "16:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "16:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "16:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "16:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "16:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>17:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "17:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "17:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "17:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "17:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "17:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "17:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>18:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "18:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "18:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "18:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "18:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "18:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "18:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>19:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "19:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "19:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "19:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "19:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "19:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "19:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>20:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "20:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "20:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "20:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "20:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "20:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "20:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>

            <tr>
                <td>21:00</td>
                <% if Onoff.find_by(oday: @day, ostart_time: "21:00", tennis_court_id:1, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "21:00", tennis_court_id:1) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "21:00", tennis_court_id:1).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
                <!--  -->
                <% if Onoff.find_by(oday: @day, ostart_time: "21:00", tennis_court_id:2, availability:true) %><!-- 開放している場合 -->
                    <% unless Reservation.find_by(day: @day, start_time: "21:00", tennis_court_id:2) %>
                        <td>○</td>
                    <% else %>
                        <% uid = Reservation.find_by(day: @day, start_time: "21:00", tennis_court_id:2).user_id %>
                        <td><%= link_to User.find(uid).name, admins_user_path(uid) %></td>
                    <% end %>
                <% else %><!-- 開放していない場合 -->
                    <td>-</td>
                <% end %>
            </tr>
        </tbody>

    </table>


</div><!-- --------------------------row------------------------- -->
<% if Onoff.where(oday: @day, tennis_court_id: 1, ostart_time: "9:00") %>

    <%= form_for @onoff, url: admins_reservations_path do |f| %>
        <%= f.hidden_field :oday, :value => @day %>
        <%= f.submit "一括開放する", class: 'btn btn-success btn-lg' %>

    <% end %>

<% end %>
